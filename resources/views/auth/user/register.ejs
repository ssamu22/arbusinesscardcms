<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ARCMS Login</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/styles/user/register.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <div class="container-fluid p-0 main-container">
      <div class="row g-0">
        <!-- Left side with welcome message -->
        <div class="col-md-5 welcome-section">
          <div class="welcome-content">
            <h1 class="brand-name">ARCMS</h1>
            <h2 class="welcome-title">Welcome!</h2>
            <p class="welcome-text">
              Empower your content management with our advanced CMS solution.
              Create, manage, and publish with ease.
            </p>

            <!-- ERROR MESSAGE BOX WITH GRAY HEADER AND RED ACCENTS -->
            <div
              class="register-errors alert alert-danger"
              style="display: none"
            >
              <div class="error-header">
                <div class="error-header-left">
                  <i class="bi bi-exclamation-triangle-fill"></i>
                  Registration Failed!
                  <span class="error-count">3</span>
                </div>
                <button
                  type="button"
                  class="btn-close btn-close-white btn-sm"
                  aria-label="Close"
                ></button>
              </div>
              <div class="error-body">
                <ul class="register-errors-list">
                  <!-- Error items will be inserted here dynamically -->
                </ul>
              </div>
              <div class="error-footer">
                Please correct these issues and try again.
              </div>
            </div>
          </div>
        </div>

        <!-- Right side with registration form -->
        <div class="col-md-7 form-section">
          <div class="form-container">
            <h2 class="text-center mb-4">Register</h2>
            <div
              id="error-message"
              class="alert alert-danger d-none"
              role="alert"
            ></div>
            <form id="register-form">
              <div class="mb-3">
                <label for="fname" class="form-label">First Name*</label>
                <input
                  type="text"
                  class="form-control"
                  id="fname"
                  name="fname"
                  maxlength="30"
                  required
                />
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="mname" class="form-label">Middle Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="mname"
                    name="mname"
                    maxlength="30"
                  />
                </div>
                <div class="col-md-6">
                  <label for="honorifics" class="form-label">Honorifics</label>
                  <select
                    class="form-control"
                    id="honorifics"
                    name="honorifics"
                  >
                    <option value="">-- Select --</option>

                    <!-- Common Titles -->
                    <option value="Mr.">Mr.</option>
                    <option value="Mrs.">Mrs.</option>
                    <option value="Ms.">Ms.</option>
                    <option value="Miss">Miss</option>
                    <option value="Mx.">Mx.</option>

                    <!-- Academic Titles -->
                    <option value="Dr.">Dr.</option>
                    <option value="Prof.">Prof.</option>
                    <option value="Assoc. Prof.">Assoc. Prof.</option>
                    <option value="Asst. Prof.">Asst. Prof.</option>
                    <option value="PhD">PhD</option>

                    <!-- Professional Titles -->
                    <option value="Engr.">Engr.</option>
                    <option value="Atty.">Atty.</option>
                    <option value="Arch.">Arch.</option>
                    <option value="CPA">CPA</option>
                    <option value="Hon.">Hon.</option>
                    <option value="Capt.">Capt.</option>
                    <option value="Chief">Chief</option>
                    <option value="Sr.">Sr.</option>
                    <option value="Jr.">Jr.</option>
                  </select>
                </div>
              </div>

              <div class="mb-3">
                <label for="lname" class="form-label">Last Name*</label>
                <input
                  type="text"
                  class="form-control"
                  id="lname"
                  name="lname"
                  maxlength="30"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="employee_number" class="form-label">Employee Number*</label>
                <input
                  type="text"
                  class="form-control"
                  id="employee_number"
                  name="employee_number"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="email" class="form-label">Email*</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="password" class="form-label">Password*</label>
                <span class="tooltip-register-pass"
                  >i
                  <div class="tooltip-text">
                    • Must be atleast 8 characters long<br />
                    • Must contain at least 1 uppercase letter, 1 lowercase
                    letter, 1 digit, and 1 special character<br />
                    • Passwords must match
                  </div>
                </span>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  required
                />
              </div>

              <div class="mb-4">
                <label for="passwordConfirm" class="form-label"
                  >Confirm Password*</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="passwordConfirm"
                  name="passwordConfirm"
                  required
                />
              </div>

              <button type="submit" class="btn-login" id="register-btn">
                Register
              </button>

              <div class="text-center mt-3">
                Already have an account?
                <a href="/" class="sign-in-link">Sign in</a> here!
              </div>
              <div class="auth-links">
                <!-- <a href="#">Forgot Password?</a>
                <a href="#">Create Account</a> -->
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="/js/index.js"></script>
    <script>
      document.addEventListener("contextmenu", function (e) {
        e.preventDefault();
      });
      
      // Script to handle error display
      document.addEventListener("DOMContentLoaded", function () {
        // Close error box when clicking the close button
        const closeBtn = document.querySelector(".register-errors .btn-close");
        if (closeBtn) {
          closeBtn.addEventListener("click", function () {
            document.querySelector(".register-errors").style.display = "none";
          });
        }

        // Example function to show errors (can be used by your existing JS)
        window.showRegisterErrors = function (errors) {
          const errorsList = document.querySelector(".register-errors-list");
          const errorBox = document.querySelector(".register-errors");
          const errorCount = document.querySelector(".error-count");

          if (!errorsList || !errorBox || !errorCount) return;

          // Clear previous errors
          errorsList.innerHTML = "";

          // Add each error to the list
          if (Array.isArray(errors)) {
            errors.forEach((error) => {
              const li = document.createElement("li");
              li.textContent = error;
              errorsList.appendChild(li);
            });

            // Update error count
            console.log("NUMBER OF ERRORS:", errors.length);
            console.log("THE ERRORS:", errors);

            errorCount.textContent = errors.length;

            // Show the error box
            errorBox.style.display = "block";
          }
        };
      });
    </script>
  </body>
</html>
